{% extends "layout.html" %}

{% block navbar %}
    <a class="nav-link active pr2" href="/">Home</a>
    {% if submitted %}
    <a class="nav-link active pr2" href="/visualizedata">Back</a>
    {% else %}
    <a class="nav-link active pr2" href="/">Back</a>
    {% endif %}
{% endblock %}

{% block body %}
    {% if not submitted %}
    <div class="my-form">
        <form action="/datavis" method="post" enctype="multipart/form-data">
            <div class="iform-tem">
                <label for="file">Upload a dataset</label>
                <input type="file" name="dataset" accept=".csv">
            </div>
            <div class="form-item">
                <button type="submit" class="learn-more">Visualize Univariate Data</button>
            </div>
        </form>
    </div>
    {% endif %}
    {% if submitted %}
    <div class="data-plots">
        <h1 class="f1 b tc">Data Visualization</h1>
        <!-- <h1 class="f2 lh-copy">Visualization of Univariate Data</h1> -->
        {% for p in plot %}
        <img class="plot-img1" src="data:image/png;base64,{{ p }}" alt="Data Visualization"> 
        {% endfor %}    
    </div>  
    {% endif %}
    {% if error %}
        <h1 class="tc">{{ error }}</h1>
    {% endif %}
{% endblock %}